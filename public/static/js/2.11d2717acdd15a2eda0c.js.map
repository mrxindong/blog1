{"version":3,"sources":["webpack:///./src/pages/index.vue","webpack:///./src/components/search.vue","webpack:///src/components/search.vue","webpack:///src/pages/index.vue","webpack:///./src/pages/index.vue?f92b","webpack:///./src/components/search.vue?4817"],"names":["__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_cf3a11c2_hasScoped_false_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_index_vue__","__webpack_require__","__vue_styles__","ssrContext","Component","normalizeComponent","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_index_vue___default","a","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_61a28c2b_hasScoped_false_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_search_vue__","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_search_vue___default","restaurants","queryString","filter","this","createFilter","restaurant","title","toLowerCase","indexOf","description","id","_this","domain","result","_iteratorNormalCompletion","d","_step","value","length","substr","_commonFun","searchVue","_search2","default","blogname","desc","email","location","author","footer","$axios","get","then","res","data","tagname","tagid","passcommentcount","message","catch","err","obj","createtime","_iteratorNormalCompletion2","_step2","name","loadcount","esExports","render","_vm","_h","$createElement","_c","_self","directives","rawName","expression","staticClass","attrs","element-loading-text","element-loading-spinner","element-loading-background","_v","_s","to","params","query","_l","blog","index","key","type","text","staticRenderFns","popper-class","fetch-suggestions","querySearch","placeholder","on","select","handleSelect","scopedSlots","_u","fn","props","item","model","callback","$$v","state3"],"mappings":"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","file":"static/js/2.11d2717acdd15a2eda0c.js","sourcesContent":["function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-cf3a11c2\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-cf3a11c2\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/index.vue\n// module id = 2NXm\n// module chunks = 2","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-61a28c2b\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./search.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./search.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./search.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-61a28c2b\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./search.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/search.vue\n// module id = 7biW\n// module chunks = 2","<template>\r\n  <el-autocomplete\r\n  popper-class=\"my-autocomplete\"\r\n  v-model=\"state3\"\r\n  :fetch-suggestions=\"querySearch\"\r\n  placeholder=\"站内搜索\"\r\n  @select=\"handleSelect\">\r\n  <!-- <i\r\n    class=\"el-icon-search el-input__icon\"\r\n    slot=\"suffix\"\r\n    @click=\"handleIconClick\">\r\n  </i> -->\r\n  <template slot-scope=\"props\">\r\n    <div class=\"name\">{{ props.item.title }}</div>\r\n    <div class=\"addr\">{{ props.item.description }}</div>\r\n  </template>\r\n</el-autocomplete>\r\n</template>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      restaurants: [],\r\n      state3: \"\",\r\n      arr: []\r\n    };\r\n  },\r\n  methods: {\r\n    querySearch(queryString, cb) {\r\n      var restaurants = this.restaurants;\r\n      var results = queryString\r\n        ? restaurants.filter(this.createFilter(queryString))\r\n        : restaurants;\r\n      // 调用 callback 返回建议列表的数据\r\n      cb(results);\r\n    },\r\n    createFilter(queryString) {\r\n      return restaurant => {\r\n        return (\r\n          restaurant.title.toLowerCase().indexOf(queryString.toLowerCase()) >=\r\n            0 ||\r\n          restaurant.description\r\n            .toLowerCase()\r\n            .indexOf(queryString.toLowerCase()) >= 0\r\n        );\r\n      };\r\n    },\r\n    handleSelect(item) {\r\n      //文本点击\r\n      let id = item.id;\r\n      this.$router.push({\r\n        name: \"blogdetail\",\r\n        params: { id }\r\n      });\r\n      //console.log(item);\r\n    }\r\n    // handleIconClick(ev) {\r\n    //   //按钮搜索\r\n    //   console.log(ev);\r\n    // }\r\n  },\r\n  created() {\r\n    //this.vloadcount = this.$store.state.loadcount;\r\n    var domain = document.domain;\r\n    //获取搜索提示列表\r\n    this.$axios.get(\"/search/getsearch?domain=\" + domain).then(res => {\r\n      if (res.data.code == 200) {\r\n        let data = res.data.result;\r\n        var arr = [];\r\n        for (var d of data) {\r\n          let description =\r\n            d.description.length > 80\r\n              ? d.description.substr(0, 80) + \"…\"\r\n              : d.description;\r\n          arr.push({ id: d.id, title: d.title, description });\r\n        }\r\n        this.restaurants = arr; //为下拉联想赋值\r\n\r\n        this.$store.commit(\"addloadcount\");\r\n        //console.log(\"获取搜索提示列表5\");\r\n      }\r\n    });\r\n  }\r\n};\r\n</script>\r\n<style lang=\"less\">\r\n.my-autocomplete {\r\n  li {\r\n    line-height: normal;\r\n    border-bottom: 1px dashed #ccc;\r\n    margin-top: 10px;\r\n    padding-bottom: 10px;\r\n    padding：7px .name {\r\n      text-overflow: ellipsis;\r\n      overflow: hidden;\r\n    }\r\n    .name {\r\n      white-space: normal;\r\n      color: #4a75b5;\r\n    }\r\n    .addr {\r\n      font-size: 12px;\r\n      color: #b4b4b4;\r\n      white-space: normal;\r\n      line-height: normal;\r\n      margin-bottom: 10px;\r\n    }\r\n\r\n    .highlighted .addr {\r\n      color: #ddd;\r\n    }\r\n  }\r\n}\r\n</style>\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/search.vue","<template>\r\n<div class=\"bigdiv\" v-loading=\"loading\"\r\n    element-loading-text=\"拼命加载中\"\r\n    element-loading-spinner=\"el-icon-loading\"\r\n    element-loading-background=\"rgba(0, 0, 0, 0.8)\" >\r\n  <div  class=\"main\" >\r\n      <div class=\"main_head\">\r\n       <div class=\"fl\">{{blogname}}</div>\r\n        <div class=\"fr\">\r\n          <searchVue></searchVue>\r\n        </div>\r\n      </div>\r\n      <div class=\"main_content\">\r\n         <div class=\"main_content_left fl\">\r\n             <div class=\"newblog\">\r\n                 <p>{{title}}</p>\r\n                 <p>{{description}} <router-link :to=\"{name:'blogdetail',params:{id:id}}\">点击阅读全文>></router-link></p>\r\n                 <p>posted by {{author}} at <router-link :to=\"{name:'blogcategories',query:{id:tagid}}\">{{tagname}}</router-link> on {{createtime}} <span v-if=\"passcommentcount==0\">暂无评论</span><span v-else>{{passcommentcount}}条评论</span></p>\r\n             </div>\r\n             <div class=\"newbloglist\">\r\n                  <p>最新博客</p>\r\n                    <ul>\r\n                        <li v-for=\"(blog,index) in bloglist\" :key=\"index\">\r\n                            <span>{{blog.createtime}} » </span>\r\n                            <router-link :to=\"{name:'blogdetail',params:{id:blog.id}}\">{{blog.title}}</router-link><span v-if=\"blog.passcommentcount==0\">暂无评论</span><span v-else>{{blog.passcommentcount}}条评论</span>\r\n                        </li>\r\n                        <li>\r\n                              <router-link :to=\"{name:'blogmore'}\">更多博客……</router-link>\r\n                        </li>\r\n                    </ul>\r\n             </div>\r\n         </div>\r\n         <div class=\"main_content_right fr\">\r\n             <div class=\"blogtype\">\r\n                <p>博客分类</p>\r\n                <ul>\r\n                    <li  v-for=\"(type,index) in typelist\" :key=\"index\"><router-link :to=\"{name:'blogcategories',query:{id:type.id}}\">{{type.name}}</router-link></li>\r\n                    <li>\r\n                        <router-link :to=\"{name:'blogcategories'}\">更多分类……</router-link>\r\n                    </li>\r\n                </ul>\r\n             </div>\r\n             <div class=\"personmsg\">\r\n                <div class=\"basic\">\r\n                    <!-- <div class=\"personimg fl\"><img :src=\"logo\" :onerror=\"defaultlogo\" /></div> -->\r\n                    <div class=\"personname fr\">{{author}}</div>\r\n                </div>\r\n                <div class=\"detail\">\r\n                    <p>{{desc}}</p>\r\n                    <p><i class=\"el-icon-message\"></i> {{email}}</p>\r\n                    <p><i class=\"el-icon-location\"></i> {{location}}</p>\r\n                </div>\r\n             </div>\r\n            \r\n         </div>\r\n         <div class=\"clear\"></div> \r\n      </div>\r\n       <footerVue  :text=\"footer\"></footerVue>\r\n  </div></div>\r\n</template>\r\n<script>\r\nimport { formatDate } from \"../assets/js/commonFun\";\r\nimport SearchVue from \"../components/search.vue\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      //基本信息\r\n      blogname: \"\",\r\n      desc: \"\",\r\n      email: \"\",\r\n      location: \"\",\r\n      author: \"\",\r\n      logo: \"\",\r\n      footer: \"\",\r\n      //搜索\r\n      search: \"\",\r\n      title: \"\",\r\n      description: \"\",\r\n      tagname: \"\",\r\n      tagid: \"\",\r\n      passcommentcount: 0,\r\n      createtime: \"\",\r\n      id: \"\",\r\n      bloglist: [],\r\n      typelist: [],\r\n      loading:true,\r\n      //loadcount:0\r\n     \r\n    };\r\n  },\r\n  components: {\r\n    searchVue: SearchVue\r\n  },\r\n  created() {\r\n    \r\n    var domain = document.domain;\r\n    domain='www.wang123.site';\r\n    //获取基础配置\r\n    this.$axios.get(\"/basic/domaininfo?domain=\" + domain).then(res => {\r\n      this.$store.commit(\"addloadcount\");\r\n      //console.log(\"获取基础配置成功1\");\r\n      if (res.data.code == 200) {\r\n        let data = res.data.result[0];\r\n        this.blogname = data.blogname;\r\n        this.desc = data.desc;\r\n        this.email = data.email;\r\n        this.location = data.location;\r\n        this.author = data.author;\r\n        this.footer = data.footer;\r\n        //this.logo = data.logo;\r\n      }\r\n    });\r\n\r\n    //获取最新的一篇博客\r\n    this.$axios\r\n      .get(\"/article/getlastblog?domain=\" + domain)\r\n      .then(res => {\r\n        //console.log(\"获取最新的一篇博客2\");\r\n        this.$store.commit(\"addloadcount\");\r\n        if (res.data.code == 200) {\r\n          let data = res.data.result[0];\r\n          var title =\r\n            data.title.length > 30\r\n              ? data.title.substr(0, 30) + \"……\"\r\n              : data.title;\r\n          this.title = title;\r\n          let description =\r\n            data.description.length > 100\r\n              ? data.description.substr(0, 100) + \"……\"\r\n              : data.description;\r\n          this.description = description;\r\n          this.tagname = data.tagname;\r\n          this.tagid = data.tagid;\r\n          this.createtime = formatDate(new Date(data.createtime), \"yyyy-MM-dd\");\r\n          this.passcommentcount = data.passcommentcount;\r\n          this.id = data.id;\r\n        } else {\r\n          console.log(res.data.message);\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n    //获取最新博客列表\r\n    this.$axios\r\n      .get(\"/article/getlastbloglist?domain=\" + domain)\r\n      .then(res => {\r\n        //console.log(\"获取最新博客列表3\");\r\n        this.$store.commit(\"addloadcount\");\r\n        if (res.data.code == 200) {\r\n          this.bloglist = [];\r\n          for (let obj of res.data.result) {\r\n            //描述截取，50字符\r\n            var title =\r\n              obj.title.length > 25\r\n                ? obj.title.substr(0, 25) + \"……\"\r\n                : obj.title;\r\n            var createtime = formatDate(new Date(obj.createtime), \"yyyy-MM-dd\");\r\n            this.bloglist.push({\r\n              id: obj.id,\r\n              createtime,\r\n              title,\r\n              passcommentcount: obj.passcommentcount\r\n              \r\n            });\r\n          }\r\n        } else {\r\n          console.log(res.data.message);\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n\r\n    //获取分类列表\r\n    this.$axios\r\n      .get(\"/article/gettypelist?pagesize=10&domain=\" + domain)\r\n      .then(res => {\r\n        //console.log(\"获取分类列表4\");\r\n        this.$store.commit(\"addloadcount\");\r\n        if (res.data.code == 200) {\r\n          this.typelist = [];\r\n          for (let obj of res.data.result) {\r\n            //描述截取，50字符\r\n            var name =\r\n              obj.name.length > 10 ? obj.name.substr(0, 10) + \"……\" : obj.name;\r\n            this.typelist.push({ id: obj.id, name });\r\n          }\r\n        } else {\r\n          console.log(res.data.message);\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n  },\r\n  computed: {\r\n    closesthis() {\r\n      return this.$store.state.loadcount;\r\n    }\r\n  },\r\n  watch: {\r\n    closesthis(val) {\r\n      //console.log(\"val:\"+val);\r\n      if (val == 5) {\r\n        this.loading=false;//关闭加载中\r\n        //this.$store.commit(\"closeloading\"); \r\n        this.$store.commit(\"emptyloadcount\"); //加载数量置空\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style>\r\n@import \"../assets/less/common.css\";\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"bigdiv\",attrs:{\"element-loading-text\":\"拼命加载中\",\"element-loading-spinner\":\"el-icon-loading\",\"element-loading-background\":\"rgba(0, 0, 0, 0.8)\"}},[_c('div',{staticClass:\"main\"},[_c('div',{staticClass:\"main_head\"},[_c('div',{staticClass:\"fl\"},[_vm._v(_vm._s(_vm.blogname))]),_vm._v(\" \"),_c('div',{staticClass:\"fr\"},[_c('searchVue')],1)]),_vm._v(\" \"),_c('div',{staticClass:\"main_content\"},[_c('div',{staticClass:\"main_content_left fl\"},[_c('div',{staticClass:\"newblog\"},[_c('p',[_vm._v(_vm._s(_vm.title))]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm.description)+\" \"),_c('router-link',{attrs:{\"to\":{name:'blogdetail',params:{id:_vm.id}}}},[_vm._v(\"点击阅读全文>>\")])],1),_vm._v(\" \"),_c('p',[_vm._v(\"posted by \"+_vm._s(_vm.author)+\" at \"),_c('router-link',{attrs:{\"to\":{name:'blogcategories',query:{id:_vm.tagid}}}},[_vm._v(_vm._s(_vm.tagname))]),_vm._v(\" on \"+_vm._s(_vm.createtime)+\" \"),(_vm.passcommentcount==0)?_c('span',[_vm._v(\"暂无评论\")]):_c('span',[_vm._v(_vm._s(_vm.passcommentcount)+\"条评论\")])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"newbloglist\"},[_c('p',[_vm._v(\"最新博客\")]),_vm._v(\" \"),_c('ul',[_vm._l((_vm.bloglist),function(blog,index){return _c('li',{key:index},[_c('span',[_vm._v(_vm._s(blog.createtime)+\" » \")]),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":{name:'blogdetail',params:{id:blog.id}}}},[_vm._v(_vm._s(blog.title))]),(blog.passcommentcount==0)?_c('span',[_vm._v(\"暂无评论\")]):_c('span',[_vm._v(_vm._s(blog.passcommentcount)+\"条评论\")])],1)}),_vm._v(\" \"),_c('li',[_c('router-link',{attrs:{\"to\":{name:'blogmore'}}},[_vm._v(\"更多博客……\")])],1)],2)])]),_vm._v(\" \"),_c('div',{staticClass:\"main_content_right fr\"},[_c('div',{staticClass:\"blogtype\"},[_c('p',[_vm._v(\"博客分类\")]),_vm._v(\" \"),_c('ul',[_vm._l((_vm.typelist),function(type,index){return _c('li',{key:index},[_c('router-link',{attrs:{\"to\":{name:'blogcategories',query:{id:type.id}}}},[_vm._v(_vm._s(type.name))])],1)}),_vm._v(\" \"),_c('li',[_c('router-link',{attrs:{\"to\":{name:'blogcategories'}}},[_vm._v(\"更多分类……\")])],1)],2)]),_vm._v(\" \"),_c('div',{staticClass:\"personmsg\"},[_c('div',{staticClass:\"basic\"},[_c('div',{staticClass:\"personname fr\"},[_vm._v(_vm._s(_vm.author))])]),_vm._v(\" \"),_c('div',{staticClass:\"detail\"},[_c('p',[_vm._v(_vm._s(_vm.desc))]),_vm._v(\" \"),_c('p',[_c('i',{staticClass:\"el-icon-message\"}),_vm._v(\" \"+_vm._s(_vm.email))]),_vm._v(\" \"),_c('p',[_c('i',{staticClass:\"el-icon-location\"}),_vm._v(\" \"+_vm._s(_vm.location))])])])]),_vm._v(\" \"),_c('div',{staticClass:\"clear\"})]),_vm._v(\" \"),_c('footerVue',{attrs:{\"text\":_vm.footer}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-cf3a11c2\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/index.vue\n// module id = VQ3P\n// module chunks = 2","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-autocomplete',{attrs:{\"popper-class\":\"my-autocomplete\",\"fetch-suggestions\":_vm.querySearch,\"placeholder\":\"站内搜索\"},on:{\"select\":_vm.handleSelect},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(props.item.title))]),_vm._v(\" \"),_c('div',{staticClass:\"addr\"},[_vm._v(_vm._s(props.item.description))])]}}]),model:{value:(_vm.state3),callback:function ($$v) {_vm.state3=$$v},expression:\"state3\"}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-61a28c2b\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/search.vue\n// module id = ZOgB\n// module chunks = 2"],"sourceRoot":""}