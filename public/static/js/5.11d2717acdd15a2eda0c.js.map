{"version":3,"sources":["webpack:///./src/pages/blogdetail.vue?7839","webpack:///./src/pages/blogdetail.vue","webpack:///src/pages/blogdetail.vue"],"names":["esExports","render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","expression","staticClass","attrs","element-loading-text","element-loading-spinner","element-loading-background","_v","_s","blogname","staticStyle","color","to","title","author","query","id","tagid","blogtype","createtime","commentcount","viewcount","domProps","innerHTML","content","href","email","type","placeholder","on","input","$event","target","composing","nickname","comment","click","savecomment","errtitle","show-icon","_e","commentlist","length","_l","index","key","time","text","footer","staticRenderFns","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_42ed07c4_hasScoped_false_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_blogdetail_vue__","__webpack_require__","__vue_styles__","ssrContext","Component","normalizeComponent","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_blogdetail_vue___default","a","_commonFun","_this","domain","$axios","post","then","res","message","catch","err","get","data","substr","formatDate","Date","tagname","count","_iteratorNormalCompletion","obj","_step","_this2","errshow"],"mappings":"yEAAA,IAEAA,GAAiBC,OAFjB,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,aAAaC,KAAA,UAAAC,QAAA,YAAAC,MAAAT,EAAA,QAAAU,WAAA,YAA4EC,YAAA,SAAAC,OAA8BC,uBAAA,QAAAC,0BAAA,kBAAAC,6BAAA,wBAA8HX,EAAA,OAAYO,YAAA,eAAyBP,EAAA,OAAYO,YAAA,sBAAgCP,EAAA,QAAAJ,EAAAgB,GAAAhB,EAAAiB,GAAAjB,EAAAkB,WAAAd,EAAA,KAAkDO,YAAA,0BAAkCX,EAAAgB,GAAA,KAAAZ,EAAA,QAAAA,EAAA,eAA6Ce,aAAaC,MAAA,UAAiBR,OAAQS,IAAMd,KAAA,YAAeP,EAAAgB,GAAA,QAAAZ,EAAA,KAAyBO,YAAA,yBAAkC,GAAAX,EAAAgB,GAAA,KAAAZ,EAAA,QAAAJ,EAAAgB,GAAAhB,EAAAiB,GAAAjB,EAAAsB,YAAAtB,EAAAgB,GAAA,KAAAZ,EAAA,OAAiFO,YAAA,uBAAiCP,EAAA,MAAAJ,EAAAgB,GAAAhB,EAAAiB,GAAAjB,EAAAsB,UAAAtB,EAAAgB,GAAA,KAAAZ,EAAA,KAAAA,EAAA,QAAAJ,EAAAgB,GAAA,OAAAhB,EAAAiB,GAAAjB,EAAAuB,WAAAnB,EAAA,QAAAJ,EAAAgB,GAAA,SAAAZ,EAAA,eAAuJQ,OAAOS,IAAMd,KAAA,iBAAAiB,OAA6BC,GAAAzB,EAAA0B,WAAgB1B,EAAAgB,GAAAhB,EAAAiB,GAAAjB,EAAA2B,cAAA,GAAAvB,EAAA,QAAAA,EAAA,KAAwDO,YAAA,iBAA2BX,EAAAgB,GAAA,IAAAhB,EAAAiB,GAAAjB,EAAA4B,eAAA5B,EAAAgB,GAAA,KAAAZ,EAAA,QAAAA,EAAA,KAAsEO,YAAA,oBAA8BX,EAAAgB,GAAA,KAAAhB,EAAAiB,GAAAjB,EAAA6B,cAAA,oBAAAzB,EAAA,KAAmEO,YAAA,iBAA2BX,EAAAgB,GAAA,IAAAhB,EAAAiB,GAAAjB,EAAA8B,WAAA,kBAAA9B,EAAAgB,GAAA,KAAAZ,EAAA,OAA2EO,YAAA,cAAAoB,UAAoCC,UAAAhC,EAAAiB,GAAAjB,EAAAiC,cAAiCjC,EAAAgB,GAAA,KAAAZ,EAAA,OAA0BO,YAAA,cAAwBP,EAAA,MAAAA,EAAA,MAAAJ,EAAAgB,GAAA,uBAAAZ,EAAA,KAA0DQ,OAAOsB,KAAA,OAAYlC,EAAAgB,GAAAhB,EAAAiB,GAAAjB,EAAAuB,aAAAvB,EAAAgB,GAAA,KAAAZ,EAAA,MAAAJ,EAAAgB,GAAA,SAAAhB,EAAAiB,GAAAjB,EAAA4B,eAAA5B,EAAAgB,GAAA,KAAAZ,EAAA,MAAAJ,EAAAgB,GAAA,yBAAAZ,EAAA,eAAuKQ,OAAOS,IAAMd,KAAA,iBAAAiB,OAA6BC,GAAAzB,EAAA0B,WAAgB1B,EAAAgB,GAAAhB,EAAAiB,GAAAjB,EAAA2B,cAAA,GAAA3B,EAAAgB,GAAA,KAAAZ,EAAA,MAAAJ,EAAAgB,GAAA,SAAAhB,EAAAiB,GAAAjB,EAAAuB,QAAA,uBAAAvB,EAAAgB,GAAA,KAAAZ,EAAA,MAAAJ,EAAAgB,GAAA,OAAAhB,EAAAiB,GAAAjB,EAAAmC,OAAA,sBAAAnC,EAAAgB,GAAA,KAAAZ,EAAA,OAAqNO,YAAA,eAAyBP,EAAA,KAAAJ,EAAAgB,GAAA,IAAAhB,EAAAiB,GAAAjB,EAAAuB,QAAA,QAAAvB,EAAAgB,GAAA,KAAAZ,EAAA,MAAAA,EAAA,MAA8EO,YAAA,wBAAkCP,EAAA,QAAAJ,EAAAgB,GAAA,SAAAhB,EAAAgB,GAAA,KAAAZ,EAAA,QAAAA,EAAA,SAAgEE,aAAaC,KAAA,QAAAC,QAAA,UAAAC,MAAAT,EAAA,SAAAU,WAAA,aAA0EE,OAASwB,KAAA,OAAA3B,MAAA,GAAA4B,YAAA,QAA8CN,UAAWtB,MAAAT,EAAA,UAAuBsC,IAAKC,MAAA,SAAAC,GAAyBA,EAAAC,OAAAC,YAAsC1C,EAAA2C,SAAAH,EAAAC,OAAAhC,eAAmCT,EAAAgB,GAAA,KAAAZ,EAAA,MAA2BO,YAAA,oBAA8BP,EAAA,YAAiBE,aAAaC,KAAA,QAAAC,QAAA,UAAAC,MAAAT,EAAA,QAAAU,WAAA,YAAwEE,OAASyB,YAAA,QAAqBN,UAAWtB,MAAAT,EAAA,SAAsBsC,IAAKC,MAAA,SAAAC,GAAyBA,EAAAC,OAAAC,YAAsC1C,EAAA4C,QAAAJ,EAAAC,OAAAhC,aAAkCT,EAAAgB,GAAA,KAAAZ,EAAA,MAAAA,EAAA,SAAqCQ,OAAOwB,KAAA,SAAA3B,MAAA,MAA6B6B,IAAKO,MAAA7C,EAAA8C,iBAAyB9C,EAAAgB,GAAA,KAAAZ,EAAA,MAAAJ,EAAA,QAAAI,EAAA,YAAsDQ,OAAOU,MAAAtB,EAAA+C,SAAAX,KAAA,QAAAY,YAAA,MAAoDhD,EAAAiD,MAAA,OAAAjD,EAAAgB,GAAA,KAAAZ,EAAA,OAAyCO,YAAA,iBAA2BP,EAAA,KAAAJ,EAAAgB,GAAA,MAAAhB,EAAAiB,GAAAjB,EAAA6B,cAAA,QAAA7B,EAAAgB,GAAA,KAAAhB,EAAAkD,YAAAC,OAAA,EAAA/C,EAAA,KAAAJ,EAAAoD,GAAApD,EAAA,qBAAA4C,EAAAS,GAAwJ,OAAAjD,EAAA,OAAiBkD,IAAAD,IAAUjD,EAAA,MAAWO,YAAA,kBAA4BP,EAAA,QAAAJ,EAAAgB,GAAAhB,EAAAiB,GAAA2B,EAAAW,SAAAvD,EAAAgB,GAAA,KAAAZ,EAAA,QAAAJ,EAAAgB,GAAAhB,EAAAiB,GAAA2B,EAAArC,WAAAP,EAAAgB,GAAA,KAAAZ,EAAA,MAAyHO,YAAA,oBAA8BP,EAAA,OAAAJ,EAAAgB,GAAAhB,EAAAiB,GAAA2B,EAAAX,mBAAkDjC,EAAAiD,OAAAjD,EAAAgB,GAAA,KAAAZ,EAAA,aAA0Ce,aAAaC,MAAA,QAAeR,OAAQ4C,KAAAxD,EAAAyD,WAAmB,MAEv/GC,oBACjBC,EAAA,gMCHA,IAAAC,EAAAC,EAAA,QAGA,IASAC,EAZA,SAAAC,GACAF,EAAA,SAgBAG,EAdAH,EAAA,OAcAI,CACAC,EAAAC,EACAP,EAAA,GATA,EAWAE,EAPA,KAEA,MAUAH,EAAA,QAAAK,EAAA,kJCkDAI,EAAAP,EAAA,mDAKA,SACA,UACA,QACA,UAEA,SACA,YACA,cACA,WACA,SACA,aACA,eACA,WACA,WACA,YACA,WACA,2BAGA,uBAEA,IAAAQ,EAAApE,gBAEAqE,2FAGA,qBACA,gBACApD,mBACAiB,iBACAZ,kBACAkC,mCAKAhC,QAEA8C,OAAAC,KAAA,gCACA/C,GAAAgD,KAAA,SAAAC,wCAGAC,WAEAC,MAAA,SAAAC,eAEAA,UAIAN,OAAAO,IAAA,6BACArD,GAAAgD,KAAA,SAAAC,uBAEA,qBACA,KACApD,MAAAyD,EAAAzD,MAAA6B,OACA,GAAA4B,EAAAzD,MAAA0D,OAAA,MACA,KAAAD,EACAzD,kBACAW,sBAOA,EAAAmC,EAAAa,YAAA,IAAAC,KAAAH,EACAnD,YAEA,oCACAuD,kBACAzD,oBACAI,sDAKA,eAEA8C,MAAA,SAAAC,eAEAA,UAIAN,OAAAO,IAAA,4BACArD,GAAAgD,KAAA,SAAAC,oDAGAU,yBAEAT,WAEAC,MAAA,SAAAC,eAEAA,UAIAN,OAAAO,IAAA,2BACArD,GAAAgD,KAAA,SAAAC,yCAEA,IAAAW,GAAA,0FAEA,IAAAC,EAAAC,EAAA9E,UACAF,yCACA,2BACA0B,kDACAA,mHAGA0C,WAEAC,MAAA,SAAAC,eAEAA,sCAKA,IAAAW,EAAAvF,0BACAwB,UACAkB,oBAEA,2BAKA,qBAFA,gCACA,uBAOA,qBAFA,+BACA,QAGA4B,OACAC,KACA,uBAAAjE,EAAA,YAAAN,KAAA2C,QAAA,cAEAnB,GAAAgD,KAAA,SAAAC,4CAIA,UACA,eAEA,4BACA,yBAEAnE,iBACAqC,uCAEA,4CAEA,6BACA+B,YAEAC,MAAA,SAAAC,oBAEA,sBACAA,oCAaA,IADA5E,KAAA2C,SAEA,aADA3C,KAAA8C,UACA9C,KACAwF,wBAEA,sFAMA,2BACA,6DAGA,sCAOA","file":"static/js/5.11d2717acdd15a2eda0c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"bigdiv\",attrs:{\"element-loading-text\":\"拼命加载中\",\"element-loading-spinner\":\"el-icon-loading\",\"element-loading-background\":\"rgba(0, 0, 0, 0.8)\"}},[_c('div',{staticClass:\"blogdetail\"},[_c('div',{staticClass:\"blogdetail_header\"},[_c('span',[_vm._v(_vm._s(_vm.blogname)),_c('i',{staticClass:\"el-icon-caret-right\"})]),_vm._v(\" \"),_c('span',[_c('router-link',{staticStyle:{\"color\":\"orange\"},attrs:{\"to\":{name:'Index'}}},[_vm._v(\"首页\")]),_c('i',{staticClass:\"el-icon-caret-right\"})],1),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.title))])]),_vm._v(\" \"),_c('div',{staticClass:\"blogdetail_content\"},[_c('h1',[_vm._v(_vm._s(_vm.title))]),_vm._v(\" \"),_c('p',[_c('span',[_vm._v(\"作者: \"+_vm._s(_vm.author))]),_c('span',[_vm._v(\"分类:  \"),_c('router-link',{attrs:{\"to\":{name:'blogcategories',query:{id:_vm.tagid}}}},[_vm._v(_vm._s(_vm.blogtype))])],1),_c('span',[_c('i',{staticClass:\"el-icon-time\"}),_vm._v(\" \"+_vm._s(_vm.createtime))]),_vm._v(\" \"),_c('span',[_c('i',{staticClass:\"el-icon-message\"}),_vm._v(\"  \"+_vm._s(_vm.commentcount)+\" \\n             \"),_c('i',{staticClass:\"el-icon-view\"}),_vm._v(\" \"+_vm._s(_vm.viewcount)+\"\\n        \")])]),_vm._v(\" \"),_c('div',{staticClass:\"blogcontent\",domProps:{\"innerHTML\":_vm._s(_vm.content)}})]),_vm._v(\" \"),_c('div',{staticClass:\"copyright\"},[_c('ul',[_c('li',[_vm._v(\"作者:\\n              \"),_c('a',{attrs:{\"href\":\"#\"}},[_vm._v(_vm._s(_vm.author))])]),_vm._v(\" \"),_c('li',[_vm._v(\"发表日期: \"+_vm._s(_vm.createtime))]),_vm._v(\" \"),_c('li',[_vm._v(\"文章分类:\\n              \"),_c('router-link',{attrs:{\"to\":{name:'blogcategories',query:{id:_vm.tagid}}}},[_vm._v(_vm._s(_vm.blogtype))])],1),_vm._v(\" \"),_c('li',[_vm._v(\"版权声明: \"+_vm._s(_vm.author)+\"个人博客，引用请注明出处，盗版必究\")]),_vm._v(\" \"),_c('li',[_vm._v(\"联系我:\"+_vm._s(_vm.email)+\"\\n          \")])])]),_vm._v(\" \"),_c('div',{staticClass:\"ctocomment\"},[_c('p',[_vm._v(\"给\"+_vm._s(_vm.author)+\"留言\")]),_vm._v(\" \"),_c('ul',[_c('li',{staticClass:\"ctocomment_username\"},[_c('span',[_vm._v(\"昵称：\")]),_vm._v(\" \"),_c('span',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.nickname),expression:\"nickname\"}],attrs:{\"type\":\"text\",\"value\":\"\",\"placeholder\":\"您的昵称\"},domProps:{\"value\":(_vm.nickname)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.nickname=$event.target.value}}})])]),_vm._v(\" \"),_c('li',{staticClass:\"comment_content\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.comment),expression:\"comment\"}],attrs:{\"placeholder\":\"您的留言\"},domProps:{\"value\":(_vm.comment)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.comment=$event.target.value}}})]),_vm._v(\" \"),_c('li',[_c('input',{attrs:{\"type\":\"button\",\"value\":\"提交\"},on:{\"click\":_vm.savecomment}})]),_vm._v(\" \"),_c('li',[(_vm.errshow)?_c('el-alert',{attrs:{\"title\":_vm.errtitle,\"type\":\"error\",\"show-icon\":\"\"}}):_vm._e()],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"ccommentlist\"},[_c('p',[_vm._v(\"留言(\"+_vm._s(_vm.commentcount)+\"条)\")]),_vm._v(\" \"),(_vm.commentlist.length>0)?_c('ul',_vm._l((_vm.commentlist),function(comment,index){return _c('div',{key:index},[_c('li',{staticClass:\"comment_title\"},[_c('span',[_vm._v(_vm._s(comment.time))]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(comment.name))])]),_vm._v(\" \"),_c('li',{staticClass:\"comment_content\"},[_c('div',[_vm._v(_vm._s(comment.content))])])])})):_vm._e()]),_vm._v(\" \"),_c('footerVue',{staticStyle:{\"color\":\"#000\"},attrs:{\"text\":_vm.footer}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-42ed07c4\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/blogdetail.vue\n// module id = bc3b\n// module chunks = 5","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-42ed07c4\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./blogdetail.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./blogdetail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./blogdetail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-42ed07c4\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./blogdetail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/blogdetail.vue\n// module id = kNOe\n// module chunks = 5","<template>\r\n  <div class=\"bigdiv\" v-loading=\"loading\"\r\n    element-loading-text=\"拼命加载中\"\r\n    element-loading-spinner=\"el-icon-loading\"\r\n    element-loading-background=\"rgba(0, 0, 0, 0.8)\" >\r\n  <div class=\"blogdetail\">\r\n  <div class=\"blogdetail_header\">\r\n      <span>{{blogname}}<i class=\"el-icon-caret-right\"></i></span>\r\n      <span><router-link  :to=\"{name:'Index'}\"  style=\"color:orange\">首页</router-link><i class=\"el-icon-caret-right\"></i></span>\r\n      <span>{{title}}</span>\r\n  </div>\r\n  <div class=\"blogdetail_content\">\r\n      <h1>{{title}}</h1>\r\n      <p>\r\n          <span>作者: {{author}}</span><span>分类:  <router-link :to=\"{name:'blogcategories',query:{id:tagid}}\">{{blogtype}}</router-link></span><span> <i class=\"el-icon-time\"></i> {{createtime}}</span>\r\n          <span>\r\n               <i class=\"el-icon-message\"></i>  {{commentcount}} \r\n               <i class=\"el-icon-view\"></i> {{viewcount}}\r\n          </span>\r\n      </p>\r\n      <div class=\"blogcontent\" v-html=\"content\">\r\n        \r\n      </div>\r\n  </div>\r\n  <div class=\"copyright\">\r\n        <ul>\r\n            <li>作者:\r\n                <a href=\"#\">{{author}}</a>\r\n            </li>\r\n            <li>发表日期: {{createtime}}</li>\r\n            <li>文章分类:\r\n                <router-link :to=\"{name:'blogcategories',query:{id:tagid}}\">{{blogtype}}</router-link>\r\n            </li>\r\n            <li>版权声明: {{author}}个人博客，引用请注明出处，盗版必究</li>\r\n            <li>联系我:{{email}}\r\n            </li>\r\n        </ul>\r\n        <!-- <a href=\"#\">\r\n            <img :src=\"logo\" :onerror=\"defaultlogo\">\r\n        </a> -->\r\n    </div>\r\n   <div class=\"ctocomment\">\r\n        <p>给{{author}}留言</p>\r\n            <ul>\r\n                <li class=\"ctocomment_username\"><span>昵称：</span> <span><input type=\"text\" value=\"\" placeholder=\"您的昵称\" v-model=\"nickname\"/> </span></li>\r\n                <li class=\"comment_content\">\r\n                    <textarea  placeholder=\"您的留言\" v-model=\"comment\"></textarea>\r\n                </li>\r\n                <li><input type=\"button\" value=\"提交\" @click=\"savecomment\"/>\r\n                </li>\r\n                <li>\r\n                    <el-alert :title=\"errtitle\" type=\"error\" v-if=\"errshow\"  show-icon></el-alert>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n        <div class=\"ccommentlist\">\r\n            <p>留言({{commentcount}}条)</p>\r\n            <ul v-if=\"commentlist.length>0\">\r\n               <div v-for=\"(comment,index) in commentlist\" :key=\"index\">\r\n                    <li class=\"comment_title\"> \r\n                            <span>{{comment.time}}</span>\r\n                            <span>{{comment.name}}</span>\r\n                    </li>\r\n                    <li class=\"comment_content\">\r\n                            <div>{{comment.content}}</div>\r\n                    </li>\r\n                </div>\r\n            </ul>\r\n        </div>\r\n\r\n  <footerVue style=\"color:#000;\" :text=\"footer\"></footerVue>\r\n  </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { formatDate } from \"../assets/js/commonFun\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      //基本信息\r\n      blogname: \"\",\r\n      email: \"\",\r\n      author: \"\",\r\n      logo: \"\",\r\n      footer: \"\",\r\n\r\n      title: \"\",\r\n      blogtype: \"\",\r\n      createtime: \"\",\r\n      content: \"\",\r\n      tagid: \"\",\r\n      viewcount: 0,\r\n      commentcount: 0,\r\n      nickname: \"\",\r\n      comment: \"\",\r\n      errshow: false,\r\n      errtitle: \"\",\r\n      commentlist: [],\r\n      loading:true\r\n    };\r\n  },\r\n  created() {\r\n    var domain = document.domain;\r\n\r\n    //获取基础配置\r\n    this.$axios.get(\"/basic/domaininfo?domain=\" + domain).then(res => {\r\n      if (res.data.code == 200) {\r\n       let data = res.data.result[0];\r\n          this.blogname=data.blogname;\r\n          this.email=data.email;\r\n          this.author=data.author;\r\n          this.footer=data.footer;\r\n          //this.logo=data.logo;\r\n      }\r\n    });\r\n\r\n    let id = this.$route.params.id;\r\n    //更新文章查看数\r\n    this.$axios\r\n      .post(\"/article/updateblogview\", \"id=\" + id)\r\n      .then(res => {\r\n        if (res.data.code != 200) {\r\n          console.log(res.data.message);\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n\r\n    //获取文章详情\r\n    this.$axios\r\n      .get(\"/article/getblogdetail?id=\" + id)\r\n      .then(res => {\r\n        if (res.data.code == 200) {\r\n          var data = res.data.result[0];\r\n          this.title =\r\n            data.title.length > 30\r\n              ? data.title.substr(0, 30) + \"……\"\r\n              : data.title;\r\n          this.content = data.content;\r\n          // //获取到详情内容，调取一次高亮加载\r\n          // $.getScript(\r\n          //   \"../../static/ueditor/third-party/SyntaxHighlighter/shCore.js\"\r\n          // ).done(function() {\r\n          //   SyntaxHighlighter.highlight(); //ajax异步的时候，使用.all无效，必须使用highlight()\r\n          // });\r\n          this.createtime = formatDate(\r\n            new Date(data.createtime),\r\n            \"yyyy-MM-dd HH:mm:ss\"\r\n          );\r\n          this.blogtype = data.tagname;\r\n          this.tagid = data.tagid;\r\n          this.viewcount = data.viewcount;\r\n        } else if (res.data.code == 304) {\r\n          //文章不存在或已隐藏\r\n          this.$router.push({\r\n            name: \"NotFound\"\r\n          });\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n\r\n    //获取评论总数\r\n    this.$axios\r\n      .get(\"/comment/count?articleid=\" + id)\r\n      .then(res => {\r\n        if (res.data.code == 200) {\r\n          this.commentcount = res.data.result[0].count;\r\n        } else {\r\n          console.log(res.data.message);\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n\r\n    //获取评论列表\r\n    this.$axios\r\n      .get(\"/comment/list?articleid=\" + id)\r\n      .then(res => {\r\n        if (res.data.code == 200) {\r\n          this.commentlist = [];\r\n          for (let obj of res.data.result) {\r\n            var name = obj.name;\r\n            var time = formatDate(new Date(obj.time), \"yyyy-MM-dd HH:mm:ss\");\r\n            var content = obj.content;\r\n            this.commentlist.push({ id: obj.id, name, time, content });\r\n          }\r\n        } else {\r\n          console.log(res.data.message);\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.log(err);\r\n      });\r\n  },\r\n  methods: {\r\n    //提交评论\r\n    savecomment() {\r\n      let id = this.$route.params.id;\r\n      let name = this.nickname;\r\n      if (name == \"\") {\r\n        name = \"匿名用户\";\r\n      } else {\r\n        if (name.length > 15) {\r\n          this.errtitle = \"昵称最长为15个字符\";\r\n          this.errshow = true;\r\n          return;\r\n        }\r\n      }\r\n      if (this.comment == \"\") {\r\n        this.errtitle = \"留言为空，无法提交\";\r\n        this.errshow = true;\r\n        return;\r\n      }\r\n      this.$axios\r\n        .post(\r\n          \"/comment/add\",\r\n          \"name=\" + name + \"&content=\" + this.comment + \"&articleid=\" + id\r\n        )\r\n        .then(res => {\r\n          if (res.data.code == 200) {\r\n            this.$message({\r\n              showClose: true,\r\n              message: \"留言提交成功！\",\r\n              type: \"success\"\r\n            });\r\n            this.commentcount += 1;\r\n            this.commentlist.unshift({\r\n              name,\r\n              content: this.comment,\r\n              time: formatDate(new Date(), \"yyyy-MM-dd HH:mm:ss\")\r\n            });\r\n          } else {\r\n            this.$message.error(\"留言提交失败\");\r\n            console.log(res.data.message);\r\n          }\r\n        })\r\n        .catch(err => {\r\n          this.$message.error(\"留言提交失败\");\r\n          console.log(err);\r\n        });\r\n    }\r\n  },\r\n  // mounted(){\r\n  //       setTimeout(() => {\r\n  //     this.loading=false;\r\n  //   }, 1000);\r\n  // },\r\n  watch: {\r\n    //一旦用户输入，则撤销错误提示\r\n    comment(newv, oldv) {\r\n      if (\r\n        this.comment != \"\" &&\r\n        this.errtitle == \"留言为空，无法提交\" &&\r\n        this.errshow\r\n      ) {\r\n        this.errshow = false;\r\n      }\r\n    },\r\n    nickname(newv, oldv) {\r\n      if (this.nickname != \"\") {\r\n        if (this.nickname.length > 15) {\r\n          this.errtitle = \"昵称最长为15个字符\";\r\n          this.errshow = true;\r\n        } else {\r\n          if (this.errtitle == \"昵称最长为15个字符\" && this.errshow) {\r\n            this.errshow = false;\r\n          }\r\n        }\r\n      }\r\n    },\r\n    content(){\r\n      //console.log(\"有值啦\");\r\n      this.loading=false;\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style>\r\n@import \"../assets/less/common.css\";\r\n/* @import \"../../static/ueditor/third-party/SyntaxHighlighter/shCoreDefault.css\"; */\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/blogdetail.vue"],"sourceRoot":""}