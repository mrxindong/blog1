{"version":3,"sources":["webpack:///./src/pages/admin/login.vue?40ce","webpack:///./src/pages/admin/login.vue","webpack:///src/pages/admin/login.vue"],"names":["esExports","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","placeholder","model","value","callback","$$v","username","expression","slot","_v","type","pwd","picLyanzhengma","directives","name","rawName","domProps","on","click","createCode","input","$event","target","composing","checkCode","login","ref","staticRenderFns","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_a9b552c0_hasScoped_true_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_login_vue__","__webpack_require__","__vue_styles__","ssrContext","Component","normalizeComponent","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_login_vue___default","a","code","_this","$axios","post","then","res","message","catch","err"],"mappings":"yEAAA,IAEAA,GAAiBC,OAFjB,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,aAAuBF,EAAA,OAAYE,YAAA,kBAA4BF,EAAA,MAAAA,EAAA,MAAAA,EAAA,YAAmCG,OAAOC,YAAA,UAAuBC,OAAQC,MAAAV,EAAA,SAAAW,SAAA,SAAAC,GAA8CZ,EAAAa,SAAAD,GAAiBE,WAAA,cAAwBV,EAAA,YAAiBW,KAAA,YAAef,EAAAgB,GAAA,iBAAAhB,EAAAgB,GAAA,KAAAZ,EAAA,MAAAA,EAAA,YAA8DG,OAAOC,YAAA,QAAAS,KAAA,YAAwCR,OAAQC,MAAAV,EAAA,IAAAW,SAAA,SAAAC,GAAyCZ,EAAAkB,IAAAN,GAAYE,WAAA,SAAmBV,EAAA,YAAiBW,KAAA,YAAef,EAAAgB,GAAA,iBAAAhB,EAAAgB,GAAA,KAAAZ,EAAA,MAAAA,EAAA,YAA8DG,OAAOC,YAAA,YAAyBC,OAAQC,MAAAV,EAAA,eAAAW,SAAA,SAAAC,GAAoDZ,EAAAmB,eAAAP,GAAuBE,WAAA,oBAA8BV,EAAA,YAAiBW,KAAA,YAAeX,EAAA,SAAcgB,aAAaC,KAAA,QAAAC,QAAA,UAAAZ,MAAAV,EAAA,UAAAc,WAAA,cAA4ER,YAAA,UAAAC,OAA+BU,KAAA,UAAgBM,UAAWb,MAAAV,EAAA,WAAwBwB,IAAKC,MAAAzB,EAAA0B,WAAAC,MAAA,SAAAC,GAAgDA,EAAAC,OAAAC,YAAsC9B,EAAA+B,UAAAH,EAAAC,OAAAnB,cAAoC,OAAAV,EAAAgB,GAAA,KAAAZ,EAAA,MAAAA,EAAA,SAA6CE,YAAA,WAAAC,OAA8BU,KAAA,SAAAP,MAAA,SAAgCc,IAAKC,MAAAzB,EAAAgC,WAAmBhC,EAAAgB,GAAA,KAAAZ,EAAA,MAAAA,EAAA,QAAoC6B,IAAA,SAAA3B,YAAA,iBAEnwC4B,oBACjBC,EAAA,gMCHA,IAAAC,EAAAC,EAAA,QAGA,IASAC,EAZA,SAAAC,GACAF,EAAA,SAgBAG,EAdAH,EAAA,OAcAI,CACAC,EAAAC,EACAP,EAAA,GATA,EAWAE,EAPA,kBAEA,MAUAH,EAAA,QAAAK,EAAA,2CCOA,IAAAI,8FAKA,OACA,kBACA,aAEA,sCAKA,+GAEA,mNAYA,gDAOA,8BALA,oDAEA,sBAQA,IAAAC,EAAA5C,0DAEA,+DAEA,mEAEA,0CAIA6C,OACAC,KACA,iCAAA9C,KAAAY,SAAA,aAAAZ,KAEAiB,KAAA8B,KAAA,SAAAC,8DAOA,2EAEAC,WAEAC,MAAA,SAAAC,oCAEAA,8BAMA1B","file":"static/js/7.11d2717acdd15a2eda0c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"logindiv\"},[_c('div',{staticClass:\"logindiv_from\"},[_c('ul',[_c('li',[_c('el-input',{attrs:{\"placeholder\":\"请输入用户名\"},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}},[_c('template',{slot:\"prepend\"},[_vm._v(\"用户名\")])],2)],1),_vm._v(\" \"),_c('li',[_c('el-input',{attrs:{\"placeholder\":\"请输入密码\",\"type\":\"password\"},model:{value:(_vm.pwd),callback:function ($$v) {_vm.pwd=$$v},expression:\"pwd\"}},[_c('template',{slot:\"prepend\"},[_vm._v(\"密 码\")])],2)],1),_vm._v(\" \"),_c('li',[_c('el-input',{attrs:{\"placeholder\":\"请输入左侧验证码\"},model:{value:(_vm.picLyanzhengma),callback:function ($$v) {_vm.picLyanzhengma=$$v},expression:\"picLyanzhengma\"}},[_c('template',{slot:\"prepend\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.checkCode),expression:\"checkCode\"}],staticClass:\"codeimg\",attrs:{\"type\":\"button\"},domProps:{\"value\":(_vm.checkCode)},on:{\"click\":_vm.createCode,\"input\":function($event){if($event.target.composing){ return; }_vm.checkCode=$event.target.value}}})])],2)],1),_vm._v(\" \"),_c('li',[_c('input',{staticClass:\"btnlogin\",attrs:{\"type\":\"button\",\"value\":\"登   录\"},on:{\"click\":_vm.login}})]),_vm._v(\" \"),_c('li',[_c('span',{ref:\"errmsg\",staticClass:\"err\"})])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-a9b552c0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/admin/login.vue\n// module id = LsaP\n// module chunks = 7","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a9b552c0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./login.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a9b552c0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-a9b552c0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/admin/login.vue\n// module id = aPQh\n// module chunks = 7","<template>\r\n    <div class=\"logindiv\">\r\n        <div class=\"logindiv_from\">\r\n            <ul>\r\n                <li>\r\n                    <el-input placeholder=\"请输入用户名\" v-model=\"username\">\r\n                        <template slot=\"prepend\">用户名</template>\r\n                    </el-input>\r\n                </li>\r\n                <li> \r\n                    <el-input placeholder=\"请输入密码\" v-model=\"pwd\" type=\"password\" >\r\n                        <template slot=\"prepend\">密&nbsp;码</template>\r\n                    </el-input>\r\n                </li> \r\n                <li> \r\n                  <el-input placeholder=\"请输入左侧验证码\"  v-model=\"picLyanzhengma\">\r\n                        <template slot=\"prepend\">\r\n                          <input type=\"button\"  class=\"codeimg\" @click=\"createCode\"  v-model=\"checkCode\"/>\r\n                        </template>\r\n                    </el-input>\r\n                </li> \r\n                <li>\r\n                    <input class=\"btnlogin\" type=\"button\" value=\"登   录\" @click=\"login\">\r\n                </li>\r\n                 <li>\r\n                    <span class=\"err\" ref=\"errmsg\"></span>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n\r\n</template>\r\n<script>\r\nvar code ; //在全局定义验证码\r\nexport default {\r\n  data() {\r\n    return {\r\n      username: \"\",\r\n      pwd: \"\",\r\n       picLyanzhengma:'',\r\n       checkCode:''\r\n    };\r\n  },\r\n  methods: {\r\n     // 图片验证码\r\n      createCode(){\r\n          code = \"\";    \r\n          var codeLength = 4;//验证码的长度   \r\n          var random = new Array(0,1,2,3,4,5,6,7,8,9,'A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R',   \r\n           'S','T','U','V','W','X','Y','Z');//随机数   \r\n          for(var i = 0; i < codeLength; i++) {//循环操作   \r\n              var index = Math.floor(Math.random()*36);//取得随机数的索引（0~35）   \r\n              code += random[index];//根据索引取得随机数加到code上   \r\n          }   \r\n          this.checkCode = code;//把code值赋给验证码   \r\n      },\r\n      // 判断验证码是否正确\r\n      checkLpicma(){\r\n          var code=this.picLyanzhengma.toUpperCase();//取得输入的验证码并转化为大写         \r\n          if(code== '') {\r\n              this.$refs.errmsg.innerHTML=\"error:请输入验证码\";\r\n          }else if(code!= this.checkCode ) {   \r\n              this.$refs.errmsg.innerHTML=\"error:验证码错误\";      \r\n              this.createCode();//刷新验证码   \r\n              this.picLyanzhengma = '';\r\n          }else { \r\n              //验证码正确  \r\n              return true;\r\n          } \r\n      }\r\n      ,\r\n    //登录\r\n    login() {\r\n      if (this.username.trim()== \"\") {\r\n        this.$refs.errmsg.innerHTML = \"error:请输入用户名\";\r\n      }else if (this.pwd.trim() == \"\") {\r\n        this.$refs.errmsg.innerHTML = \"error:请输入密码\";\r\n      }else if(this.pwd.trim().length<6){\r\n        this.$refs.errmsg.innerHTML = \"error:密码长度至少6位\";\r\n       }else if(this.checkLpicma()){\r\n         //验证码正确\r\n        //去登录\r\n        this.$axios\r\n          .post(\r\n            \"/admin/users/login\",\r\n            \"username=\" + this.username + \"&password=\" + this.pwd\r\n          )\r\n          .then(res => {\r\n            //console.log(res.data);\r\n            if (res.data.code == 200 && res.data.result == \"ok\") {\r\n              //登录成功\r\n              this.$router.push({\r\n                name: \"adminindex\"\r\n              });\r\n            } else if (res.data.code == 500) {\r\n              this.$refs.errmsg.innerHTML = \"error:\" + res.data.message;\r\n            }\r\n          })\r\n          .catch(err => {\r\n            this.$refs.errmsg.innerHTML = \"登录出错:\" + err;\r\n          });\r\n      }\r\n    }\r\n  },\r\n   created(){\r\n        this.createCode();\r\n    }\r\n};\r\n</script>\r\n<style scoped lang=\"less\">\r\n.logindiv {\r\n  height: 100%;\r\n  background: linear-gradient(to right, #003973 0, #e5e5be 100%);\r\n  padding-top: 200px;\r\n  box-sizing: border-box;\r\n  &_from {\r\n    width: 500px;\r\n    height: 380px;\r\n    box-shadow: rgb(201, 201, 201) 0px 0px 5px;\r\n    text-align: center;\r\n    margin: 0 auto;\r\n    border-radius: 5px;\r\n\r\n    ul {\r\n      padding-top: 30px;\r\n      li {\r\n        margin-top: 30px;\r\n      }\r\n    }\r\n  }\r\n}\r\n.btnlogin {\r\n  width: 200px;\r\n  height: 45px;\r\n  background: #fd6036;\r\n  color: #fff;\r\n  border: 0;\r\n  border-radius: 5px;\r\n  font-size: 16px;\r\n  text-align: center;\r\n}\r\n.err {\r\n  color: #fff;\r\n  font-size: 14px;\r\n  margin-top: 20px;\r\n}\r\n\r\n.el-input {\r\n  width: 350px;\r\n}\r\n\r\n\r\n//验证码\r\n.codeimg{\r\n    font-size: 18px;\r\n    letter-spacing: 3px;\r\n    color: #053d84;\r\n    background: #f2f2f5;\r\n    vertical-align: middle;\r\n    width: 80px;\r\n    height:35px;\r\n    border-radius: 5px;\r\n}\r\n\r\n</style>\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/admin/login.vue"],"sourceRoot":""}