webpackJsonp([9],{"+QWg":function(e,r,t){"use strict";var s={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[t("el-breadcrumb",{staticStyle:{"line-height":"40px",height:"40px",background:"#f8f8f8","border-radius":"5px","padding-left":"10px","margin-bottom":"10px"},attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",[e._v("基础配置")]),e._v(" "),t("el-breadcrumb-item",[e._v("账号修改")])],1),e._v(" "),e.errshow?t("errorVue",{attrs:{errortitle:e.errortitle,errordesc:e.errordesc}}):e._e(),e._v(" "),t("el-form",{ref:"form",staticStyle:{width:"60%"},attrs:{"label-width":"150px"}},[t("el-form-item",{attrs:{label:"用户名"}},[t("el-input",{attrs:{placeholder:""},model:{value:e.username,callback:function(r){e.username=r},expression:"username"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"新密码"}},[t("el-input",{attrs:{placeholder:"新密码长度至少为6位"},model:{value:e.newpassword,callback:function(r){e.newpassword=r},expression:"newpassword"}})],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("保存")])],1)],1)],1)},staticRenderFns:[]};r.a=s},"9wMc":function(e,r){},nirs:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=t("tIvv"),a=t.n(s);for(var n in s)"default"!==n&&function(e){t.d(r,e,function(){return s[e]})}(n);var o=t("+QWg");var i=function(e){t("9wMc")},c=t("VU/8")(a.a,o.a,!1,i,null,null);r.default=c.exports},tIvv:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=t("FW2P");r.default={data:function(){return{username:"",newpassword:"",errshow:!1,errortitle:"",errordesc:""}},created:function(){var e=this;this.$axios.get("/admin/users/info").then(function(r){if((0,s.checkServercode)(r,e)){var t=r.data.result[0];console.log("data:"+t),e.username=t.username}}).catch(function(r){(0,s.catcherror)(e,"用户信息查询失败",r)})},methods:{save:function(){var e=this,r="";if(""==this.username.trim()?r="用户名不能为空":this.username.trim().length>50?r="用户名长度不能超过50":""==this.newpassword.trim()?r="密码不能为空":this.newpassword.trim().length<6&&(r="新密码长度至少为6位"),""!==r)return this.errortitle="数据校验失败",this.errordesc=r,this.errshow=!0,!1;this.$axios.post("/admin/users/resetuser","username="+this.username+"&password="+this.newpassword).then(function(r){(0,s.checkServercode)(r,e)&&(e.$message({showClose:!0,message:"账号信息修改成功",type:"success"}),setTimeout(function(){e.$router.push({name:"Login"})},1e3))}).catch(function(r){(0,s.catcherror)(e,"修改账号信息失败",r)})}}}}});
//# sourceMappingURL=9.11d2717acdd15a2eda0c.js.map